\documentclass[thesis.tex]{subfile}
\begin{document}
\chapter{Results} \label{ch:Results}
We will now show the results of our simulations that demonstrate the accuracy of the distributed localization system. For each experiment, we will show a table with a summary of the recorded state information and error. All state information, x, y, and yaw, are the recorded output of the \gls{ukf} that is indicated, either the \gls{con_filter} or \gls{disc_filter}, in the title. The errors for these three pieces of state information are the difference between the filter estimate and the ground truth position indicated by Gazebo. The position error is the euclidean distance between the estimate and the ground truth position. All distances are given in meters, all angles are given in radians.

\section{Control Group} \label{sec:Control Group}
First, we must verify that our localization system works well in Gazebo's noiseless environment. To do this, we examine the \gls{con_filter} state estimate error, specifically the horizontal distance and yaw error, for both a stationary robot and a randomly moving robot.

\subsection{Stationary Robot}
For a stationary robot in a noiseless environment, we see in \cref{tab:one_stationary_noiseless_continuous_summary,fig:one_stationary_noiseless_continuous_error} that the \gls{con_filter} tracks the Gazebo ground truth odometry almost perfectly. The maximum position error is \SI{0.000002}{\meter} and the maximum yaw error is \SI{0.0001}{\radian}. These errors would be completely indistinguishable from perfect accuracy in the real world.

\input{autogenerated_tables/one_stationary_noiseless_continuous_summary.tex}

\begin{figure}[htbp]
\centering
\includegraphics[width=\textwidth, keepaspectratio]{one_stationary_noiseless_continuous_error}
\caption{Position Error of Continuous Filter of Stationary Robot with Noiseless Odometry Over Time}
\label{fig:one_stationary_noiseless_continuous_error}
\end{figure}

\subsection{Mobile Robot}
Next, we examine a mobile robot in a noiseless environment. The robot randomly picks an x and y coordinate and travels to it. This repeats for the duration of the experiment. 

%TODO make all these numbers final for final draft
From \cref{tab:one_mobile_noiseless_continuous_summary} we see that the maximum position error is \SI{0.095}{\meter} with a mean error of \SI{0.013}{\meter}. In the real world this error would be undetectable. We also see that our maximum yaw error is \SI{.272}{\radian}, with a mean error of \SI{0.002}{\radian}. \Cref{fig:one_mobile_noiseless_continuous_error} shows that our position error is much more varied than in the stationary robot simulation, but this is still completely within the bounds of real-world perfection for localization.

\input{autogenerated_tables/one_mobile_noiseless_continuous_summary.tex}

\begin{figure}[htbp]
\centering
\includegraphics[width=\textwidth, keepaspectratio]{one_mobile_noiseless_continuous_error}
\caption{Position Error of Continuous Filter of Mobile Robot with Noiseless Odometry Over Time}
\label{fig:one_mobile_noiseless_continuous_error}
\end{figure}

\section{Noisy Individual Operation}
As shown in \cref{sec:Control Group}, our simulation in a noiseless environment functions perfectly. This shows the accuracy of the \gls{ukf} for localization and proves the functionality of our system. Now we show the same statistics for a stationary and mobile individual robot, but with the noise model implemented that was described in \cref{sec:noise_model}.

\subsection{Stationary Robot}
\input{autogenerated_tables/one_stationary_continuous_summary.tex}

\begin{figure}[htbp]
\centering
\includegraphics[width=\textwidth, keepaspectratio]{one_stationary_continuous_error}
\caption{Position Error of \gls{con_filter} of Stationary Robot with Noisy Odometry Over Time}
\label{fig:one_stationary_noisy_continuous_error}
\end{figure}

Comparing \cref{tab:one_stationary_continuous_summary,tab:one_stationary_noiseless_continuous_summary}, it is difficult to see a difference between the accuracy of the filter in the noisy vs. noiseless environment. However, examining \cref{fig:one_stationary_noisy_continuous_error,fig:one_stationary_noiseless_continuous_error}, it is clear the the addition of noise has affected the error of the filter. But this error is still so small that the filter is performing with what is realistically perfection. This is as we expect, because a stationary robot should have virtually no error. We can see this by looking at the noise model in \cref{tab:sample_motion_model_odometry}. As the difference between $\bar{x}_{t-1}$ and $\bar{x}_t$ approaches 0, the standard deviations of our noise will also approach 0, and this means there will be virtually no noise in the readings.



Examining the \gls{disc_filter} output in \cref{tab:one_stationary_discrete_summary,fig:one_stationary_discrete_error}, we see how the noise of the \gls{gps} affects our readings. The error is still very small, but each time the filter receives a new reading from the \gls{gps} its estimate is moved closer to that location in a discrete jump.

\input{autogenerated_tables/one_stationary_discrete_summary.tex}

\begin{figure}[htbp]
\centering
\includegraphics[width=\textwidth, keepaspectratio]{one_stationary_discrete_error}
\caption{Error of \gls{disc_filter} of Stationary Robot with Noisy Odometry and GPS Over Time}
\label{fig:one_stationary_discrete_error}
\end{figure}

\subsection{Mobile Robot} \label{sec:Mobile Robot}
For the mobile robot, we see the effects of our noise model in \cref{tab:one_mobile_continuous_summary,fig:one_mobile_continuous_error}. The robot accumulates up to a maximum of close to \SI{30}{\meter} of position error over its almost 30 minutes of operation. We also see a great increase in the yaw error with a mean that is almost thirty times greater but still close to 0.

\input{autogenerated_tables/one_mobile_continuous_summary.tex}

\begin{figure}[htbp]
\centering
\includegraphics[width=\textwidth, keepaspectratio]{one_mobile_continuous_error}
\caption{Position Error of \gls{con_filter} of Mobile Robot with Noisy Odometry Over Time}
\label{fig:one_mobile_continuous_error}
\end{figure}

This test of the mobile robot shows that our noise model is working as desired, and gives us a realistic model for odometry drift.

For the single mobile robot we also examine the error in the discrete filter, shown in \cref{tab:one_mobile_discrete_summary,fig:one_mobile_discrete_error}. For a single robot experiment, this filter receives only the robot's odometry and GPS as inputs. This acts as our control experiment for the discrete filter, we expect to see increased accuracy with the addition of the external pose readings. We see that the addition of the GPS greatly increases the accuracy of the filter.

\input{autogenerated_tables/one_mobile_discrete_summary.tex}

\begin{figure}[htbp]
\centering
\includegraphics[width=\textwidth, keepaspectratio]{one_mobile_discrete_error}
\caption{Position Error of \gls{disc_filter} of Mobile Robot with Noisy Odometry and GPS Over Time}
\label{fig:one_mobile_discrete_error}
\end{figure}

\section{Noisy Group Operation}
Finally, we operate with mobile robots in a group. For these experiments, we are not concerned with information about the \gls{con_filter} because we have already proved its functionality in the preceding sections. Because the \gls{con_filter}'s only input is the robot's odometry, no changes will be seen when operating individually vs. in a group.

However, the \gls{disc_filter} changes. Operating in a group means the \gls{disc_filter} now receives external pose measurements from other robots. \cref{tab:two_mobile_discrete_summary,fig:two_mobile_discrete_error} show the error of the discrete filter with two robots operating in the same environment.

\input{autogenerated_tables/two_mobile_discrete_summary.tex}

\begin{figure}[htbp]
\centering
\includegraphics[width=\textwidth, keepaspectratio]{two_mobile_discrete_error}
\caption{Position Error of \gls{disc_filter} for Two Mobile Robots Operating in a Group with Noisy Odometry and GPS Over Time}
\label{fig:two_mobile_discrete_error}
\end{figure}

From this, we see marked increase in accuracy when the robots operate in a group and share sensor information with each other. In the experiments summarized in \cref{tab:two_mobile_discrete_summary,tab:one_mobile_discrete_summary}, the robots also had a GPS to help them localize. This obscures some of the accuracy gains that are made from including the distributed state estimates. \cref{tab:one_mobile_no_gps_discrete_summary,tab:two_mobile_no_gps_discrete_summary} show the results of the same experiments when they are run without a \gls{gps}. The accumulated drift in both experiments is great enough that it is rendered unusable for useful navigation, however the external pose measurements reduce the mean error by an order of magnitude.

\begin{landscape}
\input{autogenerated_tables/one_mobile_no_gps_discrete_summary.tex}
\input{autogenerated_tables/two_mobile_no_gps_discrete_summary.tex}
\end{landscape}

%\section{Attack Resilience}
%\input{autogenerated_tables/one_mobile_attacked_discrete_summary.tex}
%
%\begin{figure}[htbp]
%\centering
%\includegraphics[width=\textwidth, keepaspectratio]{one_mobile_attacked_discrete_error}
%\caption{Error of \gls{disc_filter} for Mobile Robots with Attacks \& Noisy Odometry Over Time}
%\label{fig:one_mobile_attacked_discrete_error}
%\end{figure}

\end{document}